{% extends 'layout.html' %}

{% block welcomeJumbotron %}
<ol class="breadcrumb">
    <li><a href="/admin">管理首页</a></li>
    <li><span>博客列表</span></li>
</ol>

<nav>
    <ul class="pager">
        <li class="previous"><a href="/admin/blog?page={{page-1}}"><span aria-hidden="true">&larr;</span>上一页</a></li>
        <li>共有{{count}}条数据，每页显示{{limit}}条，共{{pages}}页， 当前页为{{page}}</li>
        <li class="next"><a href="/admin/blog?page={{page+1}}">下一页<span aria-hidden="true">&rarr;</span></a></li>
    </ul>
</nav>

<table class="table table-responsive table-hover table-striped ">
    <tr>
        <th>文章名称</th>
        <th>作者</th>
        <th>阅读量</th>
        <th>添加时间</th>
        <th>所属分类</th>
        <th>BLOG ID</th>
        <th>操作</th>
    </tr>

    {% for blog in blogs %}
    <tr>
        <td>{{ blog.title }}</td>
        <td>{{ blog.user.username }}</td>
        <td>{{ blog.clicks }}</td>
        <td>{{ blog.addTime|date('Y-m-d h:i:s',-480) }}</td>
        <td>{{ blog.category.name }}</td>
        <td>{{ blog._id.toString() }}</td>
        <td>
            <a href="/admin/blog/edit?id={{ blog._id.toString() }}">修改</a>
            <a href="/admin/blog/delete?id={{ blog._id.toString() }}">删除</a>
        </td>
    </tr>

    {% endfor %}
</table>

<nav>
    <ul class="pager">
        <li class="previous"><a href="/admin/blog?page={{page-1}}"><span aria-hidden="true">&larr;</span>上一页</a></li>
        <li>一共有{{count}}条数据，每页显示{{limit}}条数据，一共{{pages}}页， 当前页为{{page}}</li>
        <li class="next"><a href="/admin/blog?page={{page+1}}">下一页<span aria-hidden="true">&rarr;</span></a></li>
    </ul>
</nav>
{% endblock %}